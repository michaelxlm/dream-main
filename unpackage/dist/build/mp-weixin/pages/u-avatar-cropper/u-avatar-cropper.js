(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/u-avatar-cropper/u-avatar-cropper"],{"04cd":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(i("68fa"));function n(t){return t&&t.__esModule?t:{default:t}}getApp();var a={props:{boundStyle:{type:Object,default:function(){return{lineWidth:4,borderColor:"rgb(245, 245, 245)",mask:"rgba(0, 0, 0, 0.35)"}}}},data:function(){return{bottomNavHeight:50,originWidth:200,width:0,height:0,cropperOpt:{id:"cropper",targetId:"targetCropper",pixelRatio:1,width:0,height:0,scale:2.5,zoom:8,cut:{x:(this.width-this.originWidth)/2,y:(this.height-this.originWidth)/2,width:this.originWidth,height:this.originWidth},boundStyle:{lineWidth:t.upx2px(this.boundStyle.lineWidth),mask:this.boundStyle.mask,color:this.boundStyle.borderColor}},destWidth:200,rectWidth:200,fileType:"jpg",src:""}},onLoad:function(e){var i=this;r=this,r.vk,t.setNavigationBarTitle({title:r.$t("mine.headCut")});var n=t.getSystemInfoSync();if(this.width=n.windowWidth,this.height=n.windowHeight-this.bottomNavHeight,this.cropperOpt.width=this.width,this.cropperOpt.height=this.height,this.cropperOpt.pixelRatio=n.pixelRatio,e.destWidth&&(this.destWidth=e.destWidth),e.rectWidth){var a=Number(e.rectWidth);this.cropperOpt.cut={x:(this.width-a)/2,y:(this.height-a)/2,width:a,height:a}}this.rectWidth=e.rectWidth,e.fileType&&(this.fileType=e.fileType),this.cropper=new o.default(this.cropperOpt).on("ready",(function(t){})).on("beforeImageLoad",(function(t){})).on("imageLoad",(function(t){})).on("beforeDraw",(function(t,e){})),t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#000000"}),t.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){i.src=t.tempFilePaths[0],i.cropper.pushOrign(i.src)}})},methods:{touchStart:function(t){this.cropper.touchStart(t)},touchMove:function(t){this.cropper.touchMove(t)},touchEnd:function(t){this.cropper.touchEnd(t)},getCropperImage:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.src)return this.$u.toast("请先选择图片再裁剪");var r={destHeight:Number(this.destWidth),destWidth:Number(this.destWidth),fileType:this.fileType};this.cropper.getCropperImage(r,(function(r,o){o?t.showModal({title:"温馨提示",content:o.message}):i?t.previewImage({current:"",urls:[r]}):(t.$emit("uAvatarCropper",r),e.$u.route({type:"back"}))}))},uploadTap:function(){var e=this,i=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){i.src=t.tempFilePaths[0],i.cropper.pushOrign(e.src)}})}}};e.default=a}).call(this,i("543d")["default"])},"2bb5":function(t,e,i){"use strict";i.r(e);var r=i("04cd"),o=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);e["default"]=o.a},"732a":function(t,e,i){"use strict";var r=i("a5d0"),o=i.n(r);o.a},"80a2":function(t,e,i){"use strict";i.r(e);var r=i("be01"),o=i("2bb5");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("732a");var a,c=i("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"296c2052",null,!1,r["a"],a);e["default"]=s.exports},"989f":function(t,e,i){"use strict";(function(t){i("1b7c"),i("921b");r(i("66fd"));var e=r(i("80a2"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},a5d0:function(t,e,i){},be01:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,i=(t._self._c,t.$t("main.reselect")),r=t.$t("main.confirm");t.$mp.data=Object.assign({},{$root:{m0:i,m1:r}})},n=[]}},[["989f","common/runtime","common/vendor"]]]);