(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/info"],{"0513":function(n,e,t){"use strict";(function(n){t("3d10"),t("921b");o(t("66fd"));var e=o(t("814f"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"43a4":function(n,e,t){"use strict";t.r(e);var o=t("47f5"),u=t.n(o);for(var r in o)"default"!==r&&function(n){t.d(e,n,(function(){return o[n]}))}(r);e["default"]=u.a},"47f5":function(n,e,t){"use strict";(function(n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,r=a(t("a34a")),i=a(t("ae86"));function a(n){return n&&n.__esModule?n:{default:n}}function c(n,e,t,o,u,r,i){try{var a=n[r](i),c=a.value}catch(d){return void t(d)}a.done?e(c):Promise.resolve(c).then(o,u)}function d(n){return function(){var e=this,t=arguments;return new Promise((function(o,u){var r=n.apply(e,t);function i(n){c(r,o,u,i,a,"next",n)}function a(n){c(r,o,u,i,a,"throw",n)}i(void 0)}))}}getApp();var f,l={components:{},data:function(){return{genderList:[{value:"0",name:"保密"},{value:"1",name:"男"},{value:"2",name:"女"}],calendarShow:!1,infoForm:{}}},computed:{labelStyle:function(){return{textAlign:"justify"}},mainLogo:function(){return i.default.staticUrl.logo}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u=this,u.options=e,f=u.vk,n.setNavigationBarTitle({title:u.$t("mine.setting")}),u.init(),n.$on("uAvatarCropper",function(){var n=d(r.default.mark((function n(e){var t,i,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t="",t=e.indexOf("/")>0?e.substring(e.lastIndexOf("/")+1,e.length):e,i="/useAvatar/"+u.infoForm._id+"/"+t,n.next=5,o.uploadFile({filePath:e,cloudPath:i,onUploadProgress:function(n){console.log(n);Math.round(100*n.loaded/n.total)}});case 5:a=n.sent,u.infoForm.avatar=a.fileID||"";case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},onShow:function(){u.init()},methods:{init:function(){var n=f.getVuex("$user.userInfo");u.infoForm=n},chooseAvatar:function(){this.$u.route({url:"/pages/u-avatar-cropper/u-avatar-cropper",params:{destWidth:300,rectWidth:200,fileType:"jpg"}})},calendarShowFunc:function(){u.calendarShow=!u.calendarShow},calendarChange:function(n){u.infoForm.birthday=n.result,u.infoForm.birthdayObj=n},submitInfo:function(){f.userCenter.updateUser({data:{nickname:u.infoForm.nickname,avatar:u.infoForm.avatar,gender:u.infoForm.gender,intro:u.infoForm.intro,mobile:u.infoForm.mobile,wx_code:u.infoForm.wx_code,birthday:u.infoForm.birthday,birthdayObj:u.infoForm.birthdayObj},success:function(e){f.setVuex("$user.userInfo",e.userInfo),n.showToast({title:"更新成功",icon:"none",duration:2e3,complete:function(){f.redirectTo("/pages/mine/index")}})}})}}};e.default=l}).call(this,t("543d")["default"],t("a9ff")["default"])},"814f":function(n,e,t){"use strict";t.r(e);var o=t("f37f"),u=t("43a4");for(var r in u)"default"!==r&&function(n){t.d(e,n,(function(){return u[n]}))}(r);var i,a=t("f0c5"),c=Object(a["a"])(u["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);e["default"]=c.exports},f37f:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return o}));var o={uImage:function(){return t.e("node-modules/uview-ui/components/u-image/u-image").then(t.bind(null,"e32b"))},uForm:function(){return t.e("node-modules/uview-ui/components/u-form/u-form").then(t.bind(null,"bebe"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"093a"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-input/u-input")]).then(t.bind(null,"bf08"))},uRadioGroup:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-radio-group/u-radio-group")]).then(t.bind(null,"09c4"))},uRadio:function(){return t.e("node-modules/uview-ui/components/u-radio/u-radio").then(t.bind(null,"121a"))},uButton:function(){return t.e("node-modules/uview-ui/components/u-button/u-button").then(t.bind(null,"a340"))},uCalendar:function(){return t.e("node-modules/uview-ui/components/u-calendar/u-calendar").then(t.bind(null,"6ab0"))}},u=function(){var n=this,e=n.$createElement,t=(n._self._c,n.$t("mine.update"));n.$mp.data=Object.assign({},{$root:{m0:t}})},r=[]}},[["0513","common/runtime","common/vendor"]]]);