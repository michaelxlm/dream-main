(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/info"],{"0513":function(n,e,o){"use strict";(function(n){o("3d10"),o("921b");t(o("66fd"));var e=t(o("814f"));function t(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,o("543d")["createPage"])},"0bdc":function(n,e,o){"use strict";o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return t}));var t={uImage:function(){return o.e("node-modules/uview-ui/components/u-image/u-image").then(o.bind(null,"e32b"))},uIcon:function(){return o.e("node-modules/uview-ui/components/u-icon/u-icon").then(o.bind(null,"855a"))},uForm:function(){return o.e("node-modules/uview-ui/components/u-form/u-form").then(o.bind(null,"bebe"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"093a"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-input/u-input")]).then(o.bind(null,"bf08"))},uRadioGroup:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-radio-group/u-radio-group")]).then(o.bind(null,"09c4"))},uRadio:function(){return o.e("node-modules/uview-ui/components/u-radio/u-radio").then(o.bind(null,"121a"))},uButton:function(){return o.e("node-modules/uview-ui/components/u-button/u-button").then(o.bind(null,"a340"))},uCalendar:function(){return o.e("node-modules/uview-ui/components/u-calendar/u-calendar").then(o.bind(null,"6ab0"))}},u=function(){var n=this,e=n.$createElement,o=(n._self._c,n.$t("mine.update"));n.$mp.data=Object.assign({},{$root:{m0:o}})},r=[]},"43a4":function(n,e,o){"use strict";o.r(e);var t=o("47f5"),u=o.n(t);for(var r in t)"default"!==r&&function(n){o.d(e,n,(function(){return t[n]}))}(r);e["default"]=u.a},"47f5":function(n,e,o){"use strict";(function(n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,r=a(o("a34a")),i=a(o("ae86"));function a(n){return n&&n.__esModule?n:{default:n}}function c(n,e,o,t,u,r,i){try{var a=n[r](i),c=a.value}catch(d){return void o(d)}a.done?e(c):Promise.resolve(c).then(t,u)}function d(n){return function(){var e=this,o=arguments;return new Promise((function(t,u){var r=n.apply(e,o);function i(n){c(r,t,u,i,a,"next",n)}function a(n){c(r,t,u,i,a,"throw",n)}i(void 0)}))}}getApp();var l,f={components:{},data:function(){return{genderList:[{value:"0",name:"保密"},{value:"1",name:"男"},{value:"2",name:"女"}],calendarShow:!1,infoForm:{}}},computed:{labelStyle:function(){return{textAlign:"justify"}},mainLogo:function(){return i.default.staticUrl.logo}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u=this,u.options=e,l=u.vk,n.setNavigationBarTitle({title:u.$t("mine.setting")}),u.init(),n.$on("uAvatarCropper",function(){var n=d(r.default.mark((function n(e){var o,i,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o="",o=e.indexOf("/")>0?e.substring(e.lastIndexOf("/")+1,e.length):e,i="/useAvatar/"+u.infoForm._id+"/"+o,n.next=5,t.uploadFile({filePath:e,cloudPath:i,onUploadProgress:function(n){console.log(n);Math.round(100*n.loaded/n.total)}});case 5:a=n.sent,u.infoForm.avatar=a.fileID||"";case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},onShow:function(){u.init()},methods:{init:function(){var n=l.getVuex("$user.userInfo");u.infoForm=n},chooseAvatar:function(){this.$u.route({url:"/pages/u-avatar-cropper/u-avatar-cropper",params:{destWidth:300,rectWidth:200,fileType:"jpg"}})},calendarShowFunc:function(){u.calendarShow=!u.calendarShow},calendarChange:function(n){u.infoForm.birthday=n.result,u.infoForm.birthdayObj=n},submitInfo:function(){l.userCenter.updateUser({data:{nickname:u.infoForm.nickname,avatar:u.infoForm.avatar,gender:u.infoForm.gender,intro:u.infoForm.intro,mobile:u.infoForm.mobile,wx_code:u.infoForm.wx_code,birthday:u.infoForm.birthday,birthdayObj:u.infoForm.birthdayObj},success:function(e){l.setVuex("$user.userInfo",e.userInfo),n.showToast({title:"更新成功",icon:"none",duration:2e3,complete:function(){l.redirectTo("/pages/mine/index")}})}})}}};e.default=f}).call(this,o("543d")["default"],o("a9ff")["default"])},"814f":function(n,e,o){"use strict";o.r(e);var t=o("0bdc"),u=o("43a4");for(var r in u)"default"!==r&&function(n){o.d(e,n,(function(){return u[n]}))}(r);var i,a=o("f0c5"),c=Object(a["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],i);e["default"]=c.exports}},[["0513","common/runtime","common/vendor"]]]);