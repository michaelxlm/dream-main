(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/issue/index"],{"1fbc":function(e,t,n){"use strict";n.r(t);var o=n("91d5"),u=n("3c30");for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);var r,c=n("f0c5"),s=Object(c["a"])(u["default"],o["b"],o["c"],!1,null,"5639709e",null,!1,o["a"],r);t["default"]=s.exports},2650:function(e,t,n){"use strict";(function(e,n){var o,u;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{options:{},tagSelectShow:!1,issureForm:{need_user_info:!1,text:"",imageList:[],status:0,tags:[],isComments:!0,commentNumber:0,heatNumber:0,trampleNumber:0,historyNumber:0,loveNumber:0,collectNumber:0,recommendNumber:0},scrollTop:0}},onPageScroll:function(e){o.scrollTop=e.scrollTop},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=this,u=o.vk,o.options=e,o.init(e)},onReady:function(){},onShow:function(){e.setNavigationBarTitle({title:o.$t("issure.title")})},onHide:function(){},onReachBottom:function(){},onResize:function(){},onShareAppMessage:function(e){},created:function(){},onBackPress:function(e){console.log("返回按钮",e)},methods:{init:function(e){o.$nextTick((function(){o.issureForm.text=""})),console.log("init: ",e)},upLoadImg:function(){var e=9-o.issureForm.imageList.length;e<1?o.$refs.uToast.show({title:"最多添加每组9张图片",type:"error"}):n.chooseAndUploadFile({type:"image",count:1,onChooseFile:function(e){for(var t=[],n=0;n<e.tempFiles.length;n++)t.push(u.myfn.cropImg(e.tempFiles[n]));return Promise.all(t).then((function(e){var t={tempFilePaths:[]};return t.tempFiles=e.map((function(e,n){t.tempFilePaths.push(e.path);var o="tutorial_"+u.getVuex("$user.userInfo._id")+"_"+Date.now()+"_"+n+u.pubfn.random(12,"abcdefghijklmnopqrstuvwxyz0123456789")+"."+e.ext;return{path:e.path,cloudPath:o,fileType:e.fileType}})),t}))}}).then((function(e){console.log(e),"chooseAndUploadFile:ok"===e.errMsg&&(o.issureForm.imageList=o.issureForm.imageList.concat(e.tempFiles))}))},removeImg:function(e){console.log(e)},tagSelectFunc:function(){console.log("tagSelectFunc"),o.tagSelectShow=!0},tagSelectClose:function(){o.tagSelectShow=!1},tagSelectItem:function(e){u.pubfn.isNotNull(e._id)&&(o.issureForm.tags=[e]),o.tagSelectClose()},submitFunc:function(){console.log(o.issureForm),u.callFunction({url:"client/general/kh/add",title:"请求中...",data:{addJson:o.issureForm,dbName:"tw",mainDBname:"tw",type:"tw"},success:function(e){console.log(e),u.pubfn.isNull(e.addRes)||u.redirectTo("/pages/tutorial/tutorial?id="+e.addRes)}})}},filters:{},computed:{tabbar:function(){return this.vk.getVuex("$app.config.tabbar")||[]},textareaCustomStyle:function(){return{padding:"16rpx"}}}};t.default=i}).call(this,n("543d")["default"],n("a9ff")["default"])},"3c30":function(e,t,n){"use strict";n.r(t);var o=n("2650"),u=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=u.a},"599c":function(e,t,n){"use strict";(function(e){n("3d10"),n("921b");o(n("66fd"));var t=o(n("1fbc"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"91d5":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uInput:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-input/u-input")]).then(n.bind(null,"bf08"))},uForm:function(){return n.e("node-modules/uview-ui/components/u-form/u-form").then(n.bind(null,"bebe"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"093a"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"a340"))},tagSelect:function(){return n.e("components/tagSelect/tagSelect").then(n.bind(null,"b34b"))},uBackTop:function(){return n.e("node-modules/uview-ui/components/u-back-top/u-back-top").then(n.bind(null,"7376"))},uToast:function(){return n.e("node-modules/uview-ui/components/u-toast/u-toast").then(n.bind(null,"9306"))}},u=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$t("issure.text_placeholder")),o=e.$t("issure.tags"),u=e.vk.pubfn.isNotNull(e.issureForm.tags),i=e.$t("issure.confirm");e.$mp.data=Object.assign({},{$root:{m0:n,m1:o,g0:u,m2:i}})},i=[]}},[["599c","common/runtime","common/vendor"]]]);