{"version":3,"sources":["uni-app:///main.js","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/tutorial/tutorial.vue?6a9d","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/tutorial/tutorial.vue?e121","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/tutorial/tutorial.vue?bed9","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/tutorial/tutorial.vue?072d","uni-app:///pages/tutorial/tutorial.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,sG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,iPAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpIA;AAAA;AAAA;AAAA;AAAs0B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;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","file":"pages/tutorial/tutorial.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/tutorial/tutorial.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./tutorial.vue?vue&type=template&id=315ae046&\"\nvar renderjs\nimport script from \"./tutorial.vue?vue&type=script&lang=js&\"\nexport * from \"./tutorial.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tutorial/tutorial.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tutorial.vue?vue&type=template&id=315ae046&\"","var components\ntry {\n  components = {\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-avatar/u-avatar\" */ \"uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uParse: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-parse/u-parse\" */ \"uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-image/u-image\" */ \"uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uGap: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-gap/u-gap\" */ \"uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uDivider: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-divider/u-divider\" */ \"uview-ui/components/u-divider/u-divider.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-modal/u-modal\" */ \"uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uBadge: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-badge/u-badge\" */ \"uview-ui/components/u-badge/u-badge.vue\"\n      )\n    },\n    uBackTop: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-back-top/u-back-top\" */ \"uview-ui/components/u-back-top/u-back-top.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.vk.pubfn.isNotNull(_vm.tutorialData.author)\n  var g1 = _vm.vk.pubfn.dateDiff(_vm.tutorialData._add_time)\n  var g2 = _vm.vk.pubfn.isNotNull(_vm.tutorialData.author)\n  var g3 = _vm.vk.pubfn.isNotNull(_vm.tutorialData.imageList)\n  var g4 = _vm.vk.pubfn.isNotNull(_vm.commentList)\n  var l1 = g4\n    ? _vm.__map(_vm.commentList, function(commentItem, index) {\n        var $orig = _vm.__get_orig(commentItem)\n\n        var g5 = _vm.vk.pubfn.isNotNull(commentItem.author)\n        var g6 = _vm.vk.pubfn.isNotNull(commentItem.isLikeList._id)\n        var g7 = _vm.vk.pubfn.isNotNull(commentItem.isLikeList)\n        var g8 = _vm.vk.pubfn.dateDiff(commentItem._add_time)\n        var g9 = _vm.vk.pubfn.isNotNull(commentItem.replyList)\n        var l0 = g9\n          ? _vm.__map(commentItem.replyList, function(item, index) {\n              var $orig = _vm.__get_orig(item)\n\n              var g10 = _vm.vk.pubfn.isNotNull(item.author)\n              return {\n                $orig: $orig,\n                g10: g10\n              }\n            })\n          : null\n        return {\n          $orig: $orig,\n          g5: g5,\n          g6: g6,\n          g7: g7,\n          g8: g8,\n          g9: g9,\n          l0: l0\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tutorial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tutorial.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"detailCompontent\">\r\n\t\t<view class=\"contentView\">\r\n\t\t\t<view class=\"header\">\r\n\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t<u-avatar :src=\"tutorialData.author.avatar||mainLogo\"></u-avatar>\r\n\t\t\t\t<view class=\"author\">\r\n\t\t\t\t\t<!-- 作者名 -->\r\n\t\t\t\t\t{{vk.pubfn.isNotNull(tutorialData.author)?tutorialData.author.nickname:'匿名'}}\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<!-- 创建时间 -->\r\n\t\t\t\t\t\t\t{{vk.pubfn.dateDiff(tutorialData._add_time)}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"vk.pubfn.isNotNull(tutorialData.author)\">\r\n\t\t\t\t\t\t\t<!-- 标签 -->\r\n\t\t\t\t\t\t\t{{tutorialData.author.tags?tutorialData.author.tags:''}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 关注 -->\r\n\t\t\t\t<!-- <view class=\"attention\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<u-button v-if=\"vk.pubfn.isNotNull(attentionStatusName)\" shape=\"circle\" @click=\"attentionFunc()\"\r\n\t\t\t\t\t\t:plain=\"false\" :hair-line=\"false\">\r\n\t\t\t\t\t\t{{attentionStatusName}}\r\n\t\t\t\t\t</u-button>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t\t<!-- 描述 -->\r\n\t\t\t<u-parse :html=\"tutorialData.text\"></u-parse>\r\n\t\t\t<view v-if=\"vk.pubfn.isNotNull(tutorialData.imageList)\"\r\n\t\t\t\t:class=\"tutorialData.imageList.length === 4 ?'photoAlbum-4':'photoAlbum-9'\">\r\n\t\t\t\t<view class=\"photoItem\" v-for=\"(itm, idx) in tutorialData.imageList\" :key=\"itm.url\">\r\n\t\t\t\t\t<view class=\"imgView\">\r\n\t\t\t\t\t\t<u-image width=\"100%\" height=\"100%\" :src=\"itm.url\" mode=\"aspectFill\" :border-radius=\"10\">\r\n\t\t\t\t\t\t</u-image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"vk.pubfn.isNotNull(commentList)\">\r\n\t\t\t<u-gap height=\"10\" bg-color=\"#ececec\"></u-gap>\r\n\t\t\t<!-- 评论列表 -->\r\n\t\t\t<view class=\"comment\" v-for=\"(commentItem, index) in commentList\" :key=\"commentItem._id\">\r\n\t\t\t\t<u-avatar :src=\"tutorialData.author.avatar||mainLogo\" :size=\"64\">\r\n\t\t\t\t</u-avatar>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t\t<view class=\"name\">{{ vk.pubfn.isNotNull(commentItem.author)?commentItem.author.nickname:'匿名' }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"like\" :class=\"{ highlight: vk.pubfn.isNotNull(commentItem.isLikeList._id)}\">\r\n\t\t\t\t\t\t\t<view class=\"num\">{{ commentItem.loveNumber }}</view>\r\n\t\t\t\t\t\t\t<u-icon v-if=\"!vk.pubfn.isNotNull(commentItem.isLikeList)\" name=\"thumb-up\" :size=\"30\"\r\n\t\t\t\t\t\t\t\tcolor=\"#9a9a9a\" @click=\"getLike(commentItem._id)\"></u-icon>\r\n\t\t\t\t\t\t\t<u-icon v-else name=\"thumb-up-fill\" :size=\"30\"\r\n\t\t\t\t\t\t\t\t@click=\"delLike(commentItem._id,commentItem.isLikeList._id)\">\r\n\t\t\t\t\t\t\t</u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content\">{{ commentItem.commentText }}</view>\r\n\t\t\t\t\t<view class=\"bottom\">\r\n\t\t\t\t\t\t{{vk.pubfn.dateDiff(commentItem._add_time)}}\r\n\t\t\t\t\t\t<view class=\"replyButton\" @click=\"replyCommentFunc(commentItem)\">回复</view>\r\n\t\t\t\t\t\t<view class=\"replyButton\" @click=\"delCommentFunc(commentItem,'comment')\">删除</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"reply-box\" v-if=\"vk.pubfn.isNotNull(commentItem.replyList)\">\r\n\t\t\t\t\t\t<view class=\"item\" v-for=\"(item, index) in commentItem.replyList\" :key=\"item.index\">\r\n\t\t\t\t\t\t\t<view class=\"username\">{{ vk.pubfn.isNotNull(item.author)?item.author.nickname:'匿名' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text\">{{ item.commentText }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"all-reply\" @tap=\"toAllReply(commentItem._id)\"\r\n\t\t\t\t\t\t\tv-if=\"commentItem.replyList != undefined\">\r\n\t\t\t\t\t\t\t共{{ commentItem.commentNumber || 0 }}条回复\r\n\t\t\t\t\t\t\t<u-icon class=\"more\" name=\"arrow-right\" :size=\"26\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<u-divider v-if=\"!comment.hasMore\">已显示全部评论</u-divider>\r\n\t\t</view>\r\n\t\t<!-- 删除提示框 -->\r\n\t\t<u-modal v-model=\"del.show\" @confirm=\"delConfirm\" @cancel=\"delCancel\" ref=\"uModal\" :async-close=\"true\"\r\n\t\t\t:content=\"del.content\" confirm-text=\"删除\" confirm-color=\"#ff0000\">\r\n\t\t</u-modal>\r\n\t\t<!-- 评论框 -->\r\n\t\t<u-popup v-model=\"addCommentPopup.status\" safe-area-inset-bottom=\"true\" mode=\"bottom\" border-radius=\"14\"\r\n\t\t\theight=\"180\">\r\n\t\t\t<view class=\"addCommentPopup\">\r\n\t\t\t\t<view class=\"issureCommentText\">\r\n\t\t\t\t\t<u-input v-model=\"addCommentPopup.replyText\" type=\"textarea\" :border=\"false\" :height=\"100\"\r\n\t\t\t\t\t\t:auto-height=\"true\" :focus=\"true\" :placeholder=\"addCommentPopup.placeholder\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"issureCommentButton\" @click=\"replyCommentSubmitFunc()\">发表</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<view class=\"operationNavigation\">\r\n\t\t\t<view class=\"issureComment\">\r\n\t\t\t\t<u-input :placeholder=\"'发表评论'\" :border=\"false\" :height=\"56\" :disabled=\"true\"\r\n\t\t\t\t\t@click=\"replyCommentFunc()\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"operationButton\">\r\n\t\t\t\t<view class=\"operationItem\" @click=\"gotoCommentFunc()\">\r\n\t\t\t\t\t<!-- 评论锚点 -->\r\n\t\t\t\t\t<u-icon name=\"chat\" color=\"#2979ff\" size=\"48\"></u-icon>\r\n\t\t\t\t\t<u-badge :count=\"comment.total || 0\" :offset='[10,10]'></u-badge>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"operationItem\" @click=\"likeTWFunc()\">\r\n\t\t\t\t\t<!-- 点赞 -->\r\n\t\t\t\t\t<u-icon :name=\"!likeStatus?'thumb-up':'thumb-up-fill'\" color=\"#2979ff\" size=\"48\"></u-icon>\r\n\t\t\t\t\t<u-badge :count=\"tutorialData.loveNumber || 0\" :offset='[10,10]'></u-badge>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"operationItem\">\r\n\t\t\t\t\t<!-- 分享 -->\r\n\t\t\t\t\t<button :hair-line=\"false\" open-type=\"share\" class=\"noStyleButtom\">\r\n\t\t\t\t\t\t<u-icon name=\"zhuanfa\" color=\"#2979ff\" size=\"48\"></u-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-back-top :scrollTop=\"scrollTop\" :z-index=\"999\"></u-back-top>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar that; // 当前页面对象\r\n\tvar vk; // vk依赖\r\n\timport config from '@/app.config.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdbName: 'tw',\r\n\t\t\t\twid: '', //图文id\r\n\t\t\t\ttutorialData: {},\r\n\t\t\t\tcommentList: [], //评论列表\r\n\t\t\t\tcomment: {\r\n\t\t\t\t\ttotal: 0,\r\n\t\t\t\t\tloadMoreStatus: false,\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\tpageSize: 10\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlikeStatus: false, //是否点赞\r\n\t\t\t\taddCommentPopup: {\r\n\t\t\t\t\tstatus: false, //添加评论弹出框\r\n\t\t\t\t\tcommentItem: {}, //评论父级内容\r\n\t\t\t\t\treplyText: '', //评论内容\r\n\t\t\t\t\tplaceholder: '发表评论'\r\n\t\t\t\t},\r\n\t\t\t\tdel: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tcontent: '确定删除当前评论？',\r\n\t\t\t\t\ttype: '',\r\n\t\t\t\t\tcomment: {}\r\n\t\t\t\t},\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 监听 - 原生返回按钮\r\n\t\tonBackPress(e) {\r\n\t\t\tconsole.log(\"返回按钮\", e);\r\n\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthat.scrollTop = e.scrollTop;\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: that.banner.title,\r\n\t\t\t\tpath: '/pages/tutorial/tutorial?id=' + that.wid\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 监听 - 页面每次【加载时】执行(如：前进)\r\n\t\tonLoad(options = {}) {\r\n\t\t\tthat = this;\r\n\t\t\tvk = that.vk;\r\n\t\t\tthat.options = options;\r\n\t\t\tconsole.log('onLoad')\r\n\t\t\tif (vk.pubfn.isNotNull(options.id)) {\r\n\t\t\t\tthat.init(options);\r\n\t\t\t\tthat.getComment('init');\r\n\t\t\t} else {\r\n\t\t\t\tvk.navigateTo('/pages/error/404/404')\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 监听 - 页面【首次渲染完成时】执行。注意如果渲染速度快，会在页面进入动画完成前触发\r\n\t\tonReady() {\r\n\r\n\t\t},\r\n\t\t// 监听 - 页面每次【显示时】执行(如：前进和返回) (页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面)\r\n\t\tonShow() {\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: this.$t('tutorial.title')\r\n\t\t\t});\r\n\t\t\tconsole.log(that.$u.mpShare)\r\n\t\t\tthat.getComment('init');\r\n\t\t},\r\n\t\t// 监听 - 页面每次【隐藏时】执行(如：返回)\r\n\t\tonHide() {\r\n\r\n\t\t},\r\n\t\t// 监听 - 页面下拉刷新\r\n\t\tonPullDownRefresh() {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t// 监听 - 页面触底部\r\n\t\tonReachBottom(options) {\r\n\t\t\tconsole.log(options)\r\n\t\t\tconsole.log('监听 - 页面触底部')\r\n\t\t\tif (that.comment.hasMore) {\r\n\t\t\t\tthat.comment.pagination.pageIndex += 1\r\n\t\t\t\tthat.getComment('more')\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// 监听 - 窗口尺寸变化(仅限:App、微信小程序)\r\n\t\tonResize() {\r\n\r\n\t\t},\r\n\t\t// 监听 - 点击右上角转发时\r\n\t\tonShareAppMessage(options) {\r\n\r\n\t\t},\r\n\t\t// 函数\r\n\t\tmethods: {\r\n\t\t\t// 页面数据初始化函数\r\n\t\t\tinit(options) {\r\n\t\t\t\tthat.wid = options.id\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: 'client/general/pub/getList',\r\n\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdbName: that.dbName,\r\n\t\t\t\t\t\tgetOne: true,\r\n\t\t\t\t\t\twhereJson: {\r\n\t\t\t\t\t\t\t_id: that.wid,\r\n\t\t\t\t\t\t\tstatus: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tforeignDB: [{\r\n\t\t\t\t\t\t\t\tdbName: \"uni-id-users\",\r\n\t\t\t\t\t\t\t\tlocalKey: \"uid\",\r\n\t\t\t\t\t\t\t\tforeignKey: \"_id\",\r\n\t\t\t\t\t\t\t\tas: \"author\",\r\n\t\t\t\t\t\t\t\twhereJson: {\r\n\t\t\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlimit: 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdbName: \"tw_like\",\r\n\t\t\t\t\t\t\t\tlocalKey: \"_id\",\r\n\t\t\t\t\t\t\t\tforeignKey: \"tw_id\",\r\n\t\t\t\t\t\t\t\twhereJson: {\r\n\t\t\t\t\t\t\t\t\tuid: that.userInfo._id,\r\n\t\t\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tas: \"isLikeMine\",\r\n\t\t\t\t\t\t\t\tsortArr: [{\r\n\t\t\t\t\t\t\t\t\t\"name\": \"_add_time\",\r\n\t\t\t\t\t\t\t\t\t\"type\": \"desc\"\r\n\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\tlimit: 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (vk.pubfn.isNotNull(res.rows)) {\r\n\t\t\t\t\t\t\tthat.tutorialData = res.rows\r\n\t\t\t\t\t\t\tthat.$u.mpShare.title = that.tutorialData.text;\r\n\t\t\t\t\t\t\tthat.$u.mpShare.imageUrl = config.imageShareUrl\r\n\t\t\t\t\t\t\tif (vk.pubfn.isNotNull(that.tutorialData.isLikeMine._id)) {\r\n\t\t\t\t\t\t\t\tthat.likeStatus = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.likeStatus = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 跳转到全部回复\r\n\t\t\ttoAllReply(id) {\r\n\t\t\t\tvk.navigateTo('/pages/tutorial/reply?parent_comment_id=' + id + '&wid=' + that.wid)\r\n\t\t\t},\r\n\t\t\t// 关注/取消关注\r\n\t\t\tattentionFunc() {\r\n\r\n\t\t\t},\r\n\t\t\t// 评论点赞\r\n\t\t\tgetLike(comment_id) {\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: 'client/general/kh/addLove',\r\n\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmainDBname: that.dbName,\r\n\t\t\t\t\t\tdbName: that.dbName + '_comment',\r\n\t\t\t\t\t\ttw_id: that.wid, //图文ID\r\n\t\t\t\t\t\tfrom: 'comment',\r\n\t\t\t\t\t\tcomment_id: comment_id, //描述\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (!vk.pubfn.isNull(res.id)) {\r\n\t\t\t\t\t\t\tthat.getComment('init');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvk.toast(res.msg, \"none\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 取消评论点赞\r\n\t\t\tdelLike(comment_id, comment_like_id) {\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: 'client/general/kh/delLove',\r\n\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmainDBname: that.dbName,\r\n\t\t\t\t\t\tdbName: that.dbName + '_comment',\r\n\t\t\t\t\t\ttw_id: that.wid, //图文ID\r\n\t\t\t\t\t\tfrom: 'comment',\r\n\t\t\t\t\t\tcomment_id: comment_id, //描述\r\n\t\t\t\t\t\tlike_id: comment_like_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (!vk.pubfn.isNull(res.id)) {\r\n\t\t\t\t\t\t\tthat.getComment('init');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvk.toast(res.msg, \"none\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获评论列表\r\n\t\t\tgetComment(ele) {\r\n\t\t\t\tif (ele === 'init') {\r\n\t\t\t\t\tthat.comment.pagination.pageIndex = 1\r\n\t\t\t\t}\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: 'client/general/pub/getList',\r\n\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdbName: that.dbName + '_comment',\r\n\t\t\t\t\t\tpageIndex: that.comment.pagination.pageIndex,\r\n\t\t\t\t\t\tpageSize: that.comment.pagination.pageSize,\r\n\t\t\t\t\t\tgetCount: true,\r\n\t\t\t\t\t\twhereJson: {\r\n\t\t\t\t\t\t\ttw_id: that.wid,\r\n\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\tcomment_parent_status: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsortArr: [{\r\n\t\t\t\t\t\t\t\"name\": \"_add_time\",\r\n\t\t\t\t\t\t\t\"type\": \"desc\"\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\ttreeProps: {\r\n\t\t\t\t\t\t\tid: \"_id\", // 唯一标识字段，默认为 _id\r\n\t\t\t\t\t\t\tparent_id: \"parent_comment_id\", // 父级标识字段，默认为 parent_id\r\n\t\t\t\t\t\t\tchildren: \"replyList\", // 自定义返回的下级字段名，默认为 children\r\n\t\t\t\t\t\t\tlevel: 1, // 查询返回的树的最大层级。超过设定层级的节点不会返回。默认10级，最大20，最小1\r\n\t\t\t\t\t\t\tlimit: 2, // 每一级最大返回的数据。\r\n\t\t\t\t\t\t\twhereJson: {\r\n\t\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\t\tcomment_parent_status: true,\r\n\t\t\t\t\t\t\t\ttw_id: that.wid,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsortArr: [{\r\n\t\t\t\t\t\t\t\t\"name\": \"_add_time\",\r\n\t\t\t\t\t\t\t\t\"type\": \"desc\"\r\n\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tforeignDB: [{\r\n\t\t\t\t\t\t\t\tdbName: \"uni-id-users\",\r\n\t\t\t\t\t\t\t\tlocalKey: \"uid\",\r\n\t\t\t\t\t\t\t\tforeignKey: \"_id\",\r\n\t\t\t\t\t\t\t\tas: \"author\",\r\n\t\t\t\t\t\t\t\tlimit: 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdbName: \"tw_comment_like\",\r\n\t\t\t\t\t\t\t\tlocalKey: \"_id\",\r\n\t\t\t\t\t\t\t\tforeignKey: \"comment_id\",\r\n\t\t\t\t\t\t\t\twhereJson: {\r\n\t\t\t\t\t\t\t\t\tuid: that.userInfo._id,\r\n\t\t\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tas: \"isLikeList\",\r\n\t\t\t\t\t\t\t\tsortArr: [{\r\n\t\t\t\t\t\t\t\t\t\"name\": \"_add_time\",\r\n\t\t\t\t\t\t\t\t\t\"type\": \"desc\"\r\n\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\tlimit: 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (ele === 'init') {\r\n\t\t\t\t\t\t\tthat.commentList = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (vk.pubfn.isNotNull(res.rows)) {\r\n\t\t\t\t\t\t\tthat.commentList = that.commentList.concat(res.rows)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.comment.hasMore = res.hasMore || false\r\n\t\t\t\t\t\tthat.comment.total = res.total || 0\r\n\t\t\t\t\t\tthat.comment.pagination = res.pagination\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点击回复评论\r\n\t\t\treplyCommentFunc(commentItem) {\r\n\t\t\t\tconsole.log(commentItem)\r\n\t\t\t\tif (vk.pubfn.isNotNull(commentItem)) { //回复评论\r\n\t\t\t\t\tthat.addCommentPopup.commentItem = commentItem\r\n\t\t\t\t\tthat.addCommentPopup.placeholder = '回复' + commentItem.author.nickname + ''\r\n\t\t\t\t} else { //添加新评论\r\n\t\t\t\t\tthat.addCommentPopup.commentItem = {}\r\n\t\t\t\t\tthat.addCommentPopup.placeholder = ''\r\n\t\t\t\t}\r\n\t\t\t\tthat.addCommentPopup.status = true\r\n\t\t\t},\r\n\t\t\t//提交评论\r\n\t\t\treplyCommentSubmitFunc() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\ttw_id: that.wid, //图文ID\r\n\t\t\t\t\tcommentText: that.addCommentPopup.replyText || '', //描述\r\n\t\t\t\t\tcomment_reply_status: false,\r\n\t\t\t\t\treply_uid: '',\r\n\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\treply_comment_id: '',\r\n\t\t\t\t}\r\n\t\t\t\tif (vk.pubfn.isNotNull(that.addCommentPopup.commentItem)) {\r\n\t\t\t\t\tparams.comment_parent_status = true;\r\n\t\t\t\t\tparams.parent_uid = that.addCommentPopup.commentItem.uid || '';\r\n\t\t\t\t\tparams.parent_comment_id = that.addCommentPopup.commentItem._id || '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams.comment_parent_status = false;\r\n\t\t\t\t\tparams.parent_uid = '';\r\n\t\t\t\t\tparams.parent_comment_id = '';\r\n\t\t\t\t}\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: 'client/general/kh/adds',\r\n\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taddJson: params,\r\n\t\t\t\t\t\tdbName: that.dbName + '_comment',\r\n\t\t\t\t\t\tmainDBname: \"tw\",\r\n\t\t\t\t\t\ttype: \"comment\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (Number(res.code) === 0) {\r\n\t\t\t\t\t\t\tthat.getComment('init');\r\n\t\t\t\t\t\t\tthat.addCommentPopupClose()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//关闭评论弹窗\r\n\t\t\taddCommentPopupClose() {\r\n\t\t\t\tthat.addCommentPopup = {\r\n\t\t\t\t\tstatus: false, //添加评论弹出框\r\n\t\t\t\t\tcommentItem: {}, //评论父级内容\r\n\t\t\t\t\treplyText: '', //评论内容\r\n\t\t\t\t\tplaceholder: '发表评论'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//滚动到评论列表\r\n\t\t\tgotoCommentFunc() {\r\n\t\t\t\tthat.$u.getRect('.comment').then(res => {\r\n\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop: that.scrollTop + res.top,\r\n\t\t\t\t\t\tduration: 0\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点赞图文\r\n\t\t\tlikeTWFunc() {\r\n\t\t\t\tif (!that.likeStatus) {\r\n\t\t\t\t\tvk.callFunction({\r\n\t\t\t\t\t\turl: 'client/general/kh/addLove',\r\n\t\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tmainDBname: that.dbName,\r\n\t\t\t\t\t\t\tdbName: that.dbName,\r\n\t\t\t\t\t\t\ttw_id: that.wid, //图文ID\r\n\t\t\t\t\t\t\tfrom: 'tw',\r\n\t\t\t\t\t\t\tcomment_id: '', //描述\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (!vk.pubfn.isNull(res.id)) {\r\n\t\t\t\t\t\t\t\tthat.init(that.options);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvk.toast(res.msg, \"none\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvk.callFunction({\r\n\t\t\t\t\t\turl: 'client/general/kh/delLove',\r\n\t\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tmainDBname: that.dbName,\r\n\t\t\t\t\t\t\tdbName: that.dbName,\r\n\t\t\t\t\t\t\ttw_id: that.wid, //图文ID\r\n\t\t\t\t\t\t\tfrom: 'tw',\r\n\t\t\t\t\t\t\tcomment_id: '', //评论ID\r\n\t\t\t\t\t\t\tlike_id: that.tutorialData.isLikeMine._id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (!vk.pubfn.isNull(res.id)) {\r\n\t\t\t\t\t\t\t\tthat.init(that.options);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvk.toast(res.msg, \"none\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//删除弹窗打开\r\n\t\t\tdelCommentFunc(commentItem, type) {\r\n\t\t\t\tconsole.log(commentItem)\r\n\t\t\t\tthat.del.show = true\r\n\t\t\t\tthat.del.type = type\r\n\t\t\t\tthat.del.comment = commentItem\r\n\t\t\t},\r\n\t\t\t// 删除当前评论/图文\r\n\t\t\tdelConfirm() {\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: 'client/general/kh/del',\r\n\t\t\t\t\ttitle: '请求中...',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmainDBname: that.dbName,\r\n\t\t\t\t\t\tdbName: that.del.type === \"comment\" ? that.dbName + \"_comment\" : that.dbName,\r\n\t\t\t\t\t\ttw_id: that.wid, //图文ID\r\n\t\t\t\t\t\tchildCommint: that.del.comment.comment_parent_status || false,\r\n\t\t\t\t\t\ttype: that.del.type,\r\n\t\t\t\t\t\tdel_id: that.del.type === \"comment\" ? that.del.comment._id : that.wid, //评论ID\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\t\tthat.getComment('init');\r\n\t\t\t\t\t\t\tthat.delCancel()\r\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.delCancel()\r\n\t\t\t\t\t\tvk.toast(res.msg, \"none\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tthat.delCancel()\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 关闭删除弹窗\r\n\t\t\tdelCancel() {\r\n\t\t\t\tthat.del = {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tcontent: '确定删除当前评论？',\r\n\t\t\t\t\ttype: '',\r\n\t\t\t\t\tcomment: {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 过滤器\r\n\t\tfilters: {\r\n\r\n\t\t},\r\n\t\t// 计算属性\r\n\t\tcomputed: {\n\t\t\tmainLogo() {\n\t\t\t\treturn config.staticUrl.logo\n\t\t\t},\r\n\t\t\ttabbar() {\r\n\t\t\t\treturn this.vk.getVuex('$app.config.tabbar') || []\r\n\t\t\t},\r\n\t\t\tuserInfo() {\r\n\t\t\t\tconsole.log('userInfo')\r\n\t\t\t\treturn this.vk.getVuex('$user.userInfo') || {}\r\n\t\t\t},\r\n\t\t\tattentionStatusName() {\r\n\t\t\t\treturn this.tutorialData.attentionStatus ? this.$t('tutorial.attentioned') : this.$t(\r\n\t\t\t\t\t'tutorial.attention')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\n"],"sourceRoot":""}