{"version":3,"sources":["uni-app:///main.js","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/issue/time.vue?aa3b","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/issue/time.vue?cc2d","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/issue/time.vue?a36f","webpack:////Users/xuliming/Documents/HBuilderProjects/dream-main/pages/issue/time.vue?e582","uni-app:///pages/issue/time.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,2F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDt1B,wF;AACA;AACA,O;AACA;AACA,gBADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA,kBADA;AAEA,kBAFA;;AAIA;AACA,kBADA;AAEA,iBAFA,EAJA;AAOA;AACA,kBADA;AAEA,iBAFA,EAPA,CADA;;;AAaA;AACA,mBADA;AAEA,oBAFA;AAGA,kBAHA;AAIA,kBAJA;AAKA,oBALA;AAMA,oBANA,EAbA;;AAqBA,6BArBA;AAsBA,yBAtBA,EAsBA;AACA,yBAvBA,EAuBA;AACA;AACA,kBADA,EACA;AACA,oBAFA,EAEA;AACA,mBAHA,EAGA;AACA,kBAJA,EAIA;AACA,oBALA,EAKA;AACA,uBANA,EAMA;AACA,wBAPA,EAOA;AACA,4BARA,EAQA;AACA,2BATA,EASA;AACA,6BAVA,EAUA;AACA,8CAXA,EAWA;AACA;AACA;AACA,wBADA;AAEA,uBAFA,EADA;;AAKA;AACA,wBADA;AAEA,yBAFA,EALA;AAQA;AACA;AACA,wBADA;AAEA,2BAFA,EATA,EAZA;;;AA0BA,iBA1BA,CA0BA;AA1BA,OAxBA;AAoDA;AACA;AACA,wBADA;AAEA,0BAFA;AAGA;AACA,kCAJA,GADA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,2BAFA;AAGA;AACA,kCAJA,GAbA,EApDA;;;;AAyEA,GA5EA;AA6EA;AACA,cADA,wBACA;AACA;AACA,4BADA;;AAGA,KALA;AAMA,YANA,sBAMA;AACA;AACA,KARA,EA7EA;;AAuFA,QAvFA,oBAuFA;AACA;AACA;AACA;AACA;AACA,oCADA;;AAGA;AACA;AACA;;AAEA;AACA;AACA,wBAFA,GAEA,EAFA;AAGA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,yBARA,GAQA,qDARA;AASA;AACA,kCADA;AAEA,wCAFA;AAGA;AACA;AACA;AACA,yCADA;AAEA,qBAPA,GATA,SASA,MATA;;AAkBA,6DAlBA;;AAoBA,GAtHA;AAuHA,QAvHA,oBAuHA,EAvHA;AAwHA,SAxHA,qBAwHA;AACA;AACA,GA1HA;AA2HA;AACA,QADA,kBACA;AACA;AACA,uCADA;AAEA,uBAFA;AAGA;AACA;AACA,gCADA;AAEA,qBAFA,EADA,EAHA;;;AASA,eATA,mBASA,GATA,EASA;AACA;AACA;AACA,wCADA,EACA;AACA,4CAFA,EAEA;AACA,wCAHA,EAGA;AACA,wCAJA,EAIA;AACA,4CALA,EAKA;AACA,kDANA,EAMA;AACA,oDAPA,EAOA;AACA,4DARA,EAQA;AACA,0DATA,EASA;AACA,4CAVA,EAUA;AACA,oDAXA,EAWA;AACA,kDAZA;AAaA,sCAbA,CAaA;AAbA;AAeA;AACA,SA3BA;;AA6BA,KA/BA;AAgCA,gBAhCA,0BAgCA;AACA;AACA;AACA;AACA;AACA,uDAFA;AAGA;AACA;AACA;AACA,wBAFA;AAGA;AACA,wBAJA;AAKA;AACA,yBANA,EAJA;;;AAaA,KAhDA;AAiDA;AACA,oBAlDA,8BAkDA;AACA;AACA,KApDA;AAqDA;AACA,kBAtDA,0BAsDA,CAtDA,EAsDA;AACA;AACA;AACA;AACA;AACA;AACA,KA5DA;AA6DA;AACA,oBA9DA,8BA8DA;AACA;AACA,KAhEA;AAiEA;AACA,uBAlEA,+BAkEA,CAlEA,EAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzEA;AA0EA;AACA,wBA3EA,kCA2EA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA,KAlFA;AAmFA;AACA,2BApFA,mCAoFA,CApFA,EAoFA;AACA;AACA;AACA;AACA;AACA,KAzFA;AA0FA,cA1FA,wBA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA,2BAFA;AAGA,iCAHA;AAIA,mBAJA,mBAIA,GAJA,EAIA;AACA;AACA;AACA;AACA;AACA,2CADA;;AAGA;AACA,aAZA;;AAcA,SAtBA,MAsBA;AACA;AACA;AACA,OA1BA;;AA4BA,KAvHA,EA3HA,E","file":"pages/issue/time.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/issue/time.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./time.vue?vue&type=template&id=02c20c08&\"\nvar renderjs\nimport script from \"./time.vue?vue&type=script&lang=js&\"\nexport * from \"./time.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/issue/time.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./time.vue?vue&type=template&id=02c20c08&\"","var components\ntry {\n  components = {\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-image/u-image\" */ \"uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uRadioGroup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-radio/u-radio\" */ \"uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n    uCollapse: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-collapse/u-collapse\" */ \"uview-ui/components/u-collapse/u-collapse.vue\"\n      )\n    },\n    uCollapseItem: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-collapse-item/u-collapse-item\" */ \"uview-ui/components/u-collapse-item/u-collapse-item.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uCalendar: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-calendar/u-calendar\" */ \"uview-ui/components/u-calendar/u-calendar.vue\"\n      )\n    },\n    uPicker: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-picker/u-picker\" */ \"uview-ui/components/u-picker/u-picker.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"mine.update\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./time.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./time.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"mainForm\">\n\t\t<!-- 头部logo -->\n\t\t<view class=\"headerLogo\">\n\t\t\t<u-image :src=\"issureForm.avatar || mainLogo\" mode=\"aspectFill\" shape=\"circle\" :width=\"160\" :height=\"160\"\n\t\t\t\t:show-error=\"false\" :show-loading=\"false\" @click=\"chooseAvatar()\" />\n\t\t</view>\n\t\t<u-form :model=\"issureForm\" ref=\"issureForm\" label-width=\"160\" :label-style=\"labelStyle\" >\n\t\t\t<u-form-item label=\"姓名\" prop=\"nickname\">\n\t\t\t\t<u-input v-model=\"issureForm.nickname\" />\n\t\t\t</u-form-item>\n\t\t\t<u-form-item label=\"性别\" prop=\"gender\">\n\t\t\t\t<u-radio-group v-model=\"issureForm.gender\">\n\t\t\t\t\t<u-radio v-for=\"(item, index) in genderList\" :key=\"index\" :name=\"item.value\">\n\t\t\t\t\t\t{{item.name}}\n\t\t\t\t\t</u-radio>\n\t\t\t\t</u-radio-group>\n\t\t\t</u-form-item>\n\t\t\t<u-form-item label=\"手机号\" prop=\"mobile\">\n\t\t\t\t<u-input type=\"number\" v-model=\"issureForm.mobile\" />\n\t\t\t</u-form-item>\n\t\t\t<!-- <u-form-item label=\"生日\" prop=\"birthday\">\n\t\t\t\t<u-input v-model=\"issureForm.birthday\" placeholder=\"请选择生日\" @click=\"calendarShowFunc()\" disabled />\n\t\t\t</u-form-item> -->\n\t\t\t<u-collapse>\n\t\t\t\t<u-collapse-item title=\"更多设置\">\n\t\t\t\t\t<!-- <u-form-item label=\"出生时间\" prop=\"birthdayTime\">\n\t\t\t\t\t\t<u-input v-model=\"issureForm.birthdayTime\" placeholder=\"请选择出生时间\" @click=\"birthdayTimeShowFunc()\"\n\t\t\t\t\t\t\tdisabled />\n\t\t\t\t\t</u-form-item> -->\n\t\t\t\t\t<u-form-item label=\"家乡\" prop=\"hometown\">\n\t\t\t\t\t\t<u-input v-model=\"issureForm.hometown\" placeholder=\"请选择家乡\" @click=\"hometownShowFunc()\"\n\t\t\t\t\t\t\tdisabled />\n\t\t\t\t\t</u-form-item>\n\t\t\t\t\t<u-form-item label=\"关系\" prop=\"intro\">\n\t\t\t\t\t\t<u-input v-model=\"issureForm.intro\" placeholder=\"描述你们的关系\" />\n\t\t\t\t\t</u-form-item>\n\t\t\t\t</u-collapse-item>\n\t\t\t</u-collapse>\n\t\t</u-form>\n\t\t<u-button shape=\"circle\" @click=\"submitInfo()\" :plain=\"false\" :hair-line=\"false\" type=\"success\">\n\t\t\t{{$t('mine.update')}}\n\t\t</u-button>\n\t\t<u-calendar v-model=\"calendarShow\" mode=\"date\" @change=\"calendarChange()\"></u-calendar>\n\t\t<u-picker mode=\"region\" v-model=\"hometownShow\" :area-code='issureForm.hometownCode' title=\"请选择家乡\"\n\t\t\t@confirm=\"hometownShowConfirm()\"></u-picker>\n\t\t<u-picker mode=\"time\" v-model=\"birthdayTimeShow\" :params=\"birthdayTimeParams\"\n\t\t\t:default-time=\"issureForm.birthdayTimeCode\" title=\"请选择出生时间\" @confirm=\"birthdayTimeShowConfirm()\"></u-picker>\n\t</view>\n</template>\n\n<script>\n\timport config from '@/app.config.js'\n\tvar that;\n\tvar vk;\n\texport default {\n\t\tcomponents: {},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tgenderList: [{\n\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t\tname: '保密'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '1',\n\t\t\t\t\t\tname: '男'\n\t\t\t\t\t}, {\n\t\t\t\t\t\tvalue: '2',\n\t\t\t\t\t\tname: '女'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tbirthdayTimeParams: {\n\t\t\t\t\tyear: false,\n\t\t\t\t\tmonth: false,\n\t\t\t\t\tday: false,\n\t\t\t\t\thour: true,\n\t\t\t\t\tminute: true,\n\t\t\t\t\tsecond: true\n\t\t\t\t},\n\t\t\t\tbirthdayTimeShow: false,\n\t\t\t\thometownShow: false, //地址打开\n\t\t\t\tcalendarShow: false, //日历打开\n\t\t\t\tissureForm: {\n\t\t\t\t\tavatar: '', //头像\n\t\t\t\t\tnickname: '', //昵称\n\t\t\t\t\tgender: '0', //性别\n\t\t\t\t\tmobile: '', //手机号\n\t\t\t\t\tbirthday: '', //生日\n\t\t\t\t\tbirthdayObj: {}, //生日信息\n\t\t\t\t\tbirthdayTime: '', //生日时间\n\t\t\t\t\tbirthdayTimeCode: '', //生日时间\n\t\t\t\t\tbirthdayTimeObj: {}, //生日时间信息\n\t\t\t\t\thometown: '北京市市辖区朝阳区', //家乡\n\t\t\t\t\thometownCode: ['11', '1101', '110105'], //家乡\n\t\t\t\t\thometownObj: {\n\t\t\t\t\t\tprovince: {\n\t\t\t\t\t\t\tlabel: \"北京市\",\n\t\t\t\t\t\t\tvalue: \"11\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcity: {\n\t\t\t\t\t\t\tlabel: \"市辖区\",\n\t\t\t\t\t\t\tvalue: \"1101\"\n\t\t\t\t\t\t}, //家乡信息\n\t\t\t\t\t\tarea: {\n\t\t\t\t\t\t\tlabel: \"朝阳区\",\n\t\t\t\t\t\t\tvalue: \"110105\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tintro: '', //关系\n\t\t\t\t},\n\t\t\t\trules: {\n\t\t\t\t\tnickname: [{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入姓名',\n\t\t\t\t\t\t// 可以单个或者同时写两个触发验证方式\n\t\t\t\t\t\ttrigger: ['blur,change']\n\t\t\t\t\t}],\n\t\t\t\t\t// birthday: [{\n\t\t\t\t\t// \trequired: true,\n\t\t\t\t\t// \tmessage: '请选择生日',\n\t\t\t\t\t// \t// 可以单个或者同时写两个触发验证方式\n\t\t\t\t\t// \ttrigger: ['blur,change']\n\t\t\t\t\t// }],\n\t\t\t\t\tmobile: [{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入手机号',\n\t\t\t\t\t\t// 可以单个或者同时写两个触发验证方式\n\t\t\t\t\t\ttrigger: ['blur,change']\n\t\t\t\t\t}],\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tlabelStyle() {\n\t\t\t\treturn {\n\t\t\t\t\ttextAlign: 'justify',\n\t\t\t\t}\n\t\t\t},\n\t\t\tmainLogo() {\n\t\t\t\treturn config.staticUrl.logo\n\t\t\t}\n\t\t},\n\t\tonLoad(options = {}) {\n\t\t\tthat = this;\n\t\t\tthat.options = options\n\t\t\tvk = that.vk;\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: that.$t('issure.title')\n\t\t\t});\n\t\t\tif (options.id) {\n\t\t\t\tthat.init();\n\t\t\t}\n\n\t\t\tuni.$on('uAvatarCropper', async (path) => {\n\t\t\t\t// 可以在此上传到服务端\n\t\t\t\tlet filename = ''\n\t\t\t\tif (path.indexOf(\"/\") > 0) { //如果包含有\"/\"号 从最后一个\"/\"号+1的位置开始截取字符串\n\t\t\t\t\tfilename = path.substring(path.lastIndexOf(\"/\") + 1, path.length);\n\t\t\t\t} else {\n\t\t\t\t\tfilename = path;\n\t\t\t\t}\n\t\t\t\tlet cloudPath = '/timeAvatar/' + that.issureForm._id + '/' + filename\n\t\t\t\tconst result = await uniCloud.uploadFile({\n\t\t\t\t\tfilePath: path,\n\t\t\t\t\tcloudPath: cloudPath,\n\t\t\t\t\tonUploadProgress: function(progressEvent) {\n\t\t\t\t\t\tconsole.log(progressEvent)\n\t\t\t\t\t\tvar percentCompleted = Math.round((progressEvent.loaded * 100) /\n\t\t\t\t\t\t\tprogressEvent.total)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthat.issureForm.avatar = result.fileID || ''\n\t\t\t})\n\t\t},\n\t\tonShow() {},\n\t\tonReady() {\n\t\t\tthis.$refs.issureForm.setRules(this.rules);\n\t\t},\n\t\tmethods: {\n\t\t\tinit() {\n\t\t\t\tvk.callFunction({\n\t\t\t\t\turl: 'client/time/pub/findById',\n\t\t\t\t\ttitle: '请求中...',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\twhereJson: {\n\t\t\t\t\t\t\t_id: that.options.id,\n\t\t\t\t\t\t\tstatus: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif (vk.pubfn.isNotNull(res.rows)) {\n\t\t\t\t\t\t\tthat.issureForm = {\n\t\t\t\t\t\t\t\tavatar: res.rows[0].avatar, //头像\n\t\t\t\t\t\t\t\tnickname: res.rows[0].nickname, //昵称\n\t\t\t\t\t\t\t\tgender: res.rows[0].gender, //性别\n\t\t\t\t\t\t\t\tmobile: res.rows[0].mobile, //手机号\n\t\t\t\t\t\t\t\tbirthday: res.rows[0].birthday, //生日\n\t\t\t\t\t\t\t\tbirthdayObj: res.rows[0].birthdayObj, //生日信息\n\t\t\t\t\t\t\t\tbirthdayTime: res.rows[0].birthdayTime, //生日时间\n\t\t\t\t\t\t\t\tbirthdayTimeCode: res.rows[0].birthdayTimeCode, //生日时间\n\t\t\t\t\t\t\t\tbirthdayTimeObj: res.rows[0].birthdayTimeObj, //生日时间信息\n\t\t\t\t\t\t\t\thometown: res.rows[0].hometown, //家乡\n\t\t\t\t\t\t\t\thometownCode: res.rows[0].hometownCode, //家乡\n\t\t\t\t\t\t\t\thometownObj: res.rows[0].hometownObj,\n\t\t\t\t\t\t\t\tintro: res.rows[0].intro, //关系\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tchooseAvatar() {\n\t\t\t\tconsole.log('chooseAvatar')\n\t\t\t\t// 此为uView的跳转方法，详见\"文档-JS\"部分，也可以用uni的uni.navigateTo\n\t\t\t\tthis.$u.route({\n\t\t\t\t\t// 关于此路径，请见下方\"注意事项\"\n\t\t\t\t\turl: '/pages/u-avatar-cropper/u-avatar-cropper',\n\t\t\t\t\t// 内部已设置以下默认参数值，可不传这些参数\n\t\t\t\t\tparams: {\n\t\t\t\t\t\t// 输出图片宽度，高等于宽，单位px\n\t\t\t\t\t\tdestWidth: 300,\n\t\t\t\t\t\t// 裁剪框宽度，高等于宽，单位px\n\t\t\t\t\t\trectWidth: 200,\n\t\t\t\t\t\t// 输出的图片类型，如果'png'类型发现裁剪的图片太大，改成\"jpg\"即可\n\t\t\t\t\t\tfileType: 'jpg',\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 生日年月日选择器\n\t\t\tcalendarShowFunc() {\n\t\t\t\tthat.calendarShow = !that.calendarShow\n\t\t\t},\n\t\t\t// 选择生日发生改变时触发\n\t\t\tcalendarChange(e) {\n\t\t\t\tthat.issureForm.birthday = e.result\n\t\t\t\tthat.issureForm.birthdayObj = e\n\t\t\t\tif (vk.pubfn.isNull(that.issureForm.birthdayTimeCode)) {\n\t\t\t\t\tthat.issureForm.birthdayTimeCode = that.issureForm.birthday + ' 00:00:00'\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 家乡地址选择器\n\t\t\thometownShowFunc() {\n\t\t\t\tthat.hometownShow = !that.hometownShow\n\t\t\t},\n\t\t\t// 选择家乡地址发生改变时触发\n\t\t\thometownShowConfirm(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\tthat.issureForm.hometown = e.province.label + e.city.label + e.area.label\n\t\t\t\tthat.issureForm.hometownCode[0] = e.province.value\n\t\t\t\tthat.issureForm.hometownCode[1] = e.city.value\n\t\t\t\tthat.issureForm.hometownCode[2] = e.area.value\n\t\t\t\tthat.issureForm.hometownObj = e\n\t\t\t},\n\t\t\t// 生日时分秒选择器\n\t\t\tbirthdayTimeShowFunc() {\n\t\t\t\tif (vk.pubfn.isNull(that.issureForm.birthdayObj)) {\n\t\t\t\t\tvk.alert(\"请先选择日期\");\n\t\t\t\t} else {\n\t\t\t\t\tthat.birthdayTimeShow = !that.birthdayTimeShow\n\t\t\t\t}\n\n\t\t\t},\n\t\t\t// 选择生日时分秒时触发\n\t\t\tbirthdayTimeShowConfirm(e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\tthat.issureForm.birthdayTime = e.hour + ':' + e.minute + ':' + e.second\n\t\t\t\tthat.issureForm.birthdayTimeCode = that.issureForm.birthday + ' ' + that.issureForm.birthdayTime\n\t\t\t\tthat.issureForm.birthdayTimeObj = e\n\t\t\t},\n\t\t\tsubmitInfo() {\n\t\t\t\tthat.$refs.issureForm.validate(valid => {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tconsole.log('验证通过');\n\t\t\t\t\t\tif (vk.pubfn.isNull(that.issureForm.birthdayTime)) {\n\t\t\t\t\t\t\tthat.issureForm.birthdayTimeObj = {}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (vk.pubfn.isNotNull(that.options.id)) {\n\t\t\t\t\t\t\tthat.issureForm.time_id = that.options.id\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvk.callFunction({\n\t\t\t\t\t\t\turl: 'client/time/kh/add',\n\t\t\t\t\t\t\ttitle: '请求中...',\n\t\t\t\t\t\t\tdata: that.issureForm,\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tif (Number(res.code) === 0) {\n\t\t\t\t\t\t\t\t\tvk.alert(\"添加成功\");\n\t\t\t\t\t\t\t\t\tvk.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('验证失败');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t}\n\t}\n</script>\n"],"sourceRoot":""}